# Generated by Anaconda 40.22.3
# Generated by pykickstart v3.52
#version=DEVEL
# Use graphical install
graphical

# Keyboard layouts
keyboard --vckeymap=pl --xlayouts='pl'
# System language
lang pl_PL.UTF-8

# Run the Setup Agent on first boot
firstboot --enable

# Generated using Blivet version 3.9.1
ignoredisk --only-use=sda
autopart
# Partition clearing information
clearpart --none --initlabel

# System timezone
timezone Europe/Warsaw --utc

#Root password
rootpw --lock

#Repositories
url --mirrorlist=http://mirrors.fedoraproject.org/mirrorlist?repo=fedora-40&arch=x86_64
repo --name=update --mirrorlist=http://mirrors.fedoraproject.org/mirrorlist?repo=updates-released-f40&arch=x86_64

#Format
clearpart --all

%packages
docker
git
%end

%post
# Start Docker service
systemctl start docker
systemctl enable docker

# Clone Dockerfile from GitHub
mkdir /tmp/docker_build
git clone https://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@github.com/InzynieriaOprogramowaniaAGH/MDO2024_S.git /tmp/docker_build

# Build Docker image
docker build -t tic-tac-toe-builder /tmp/docker_build/SM413812/Lab05/Docker_budujacy

# Run Docker container
docker run -d --name tic-tac-toe tic-tac-toe-builder
%end
